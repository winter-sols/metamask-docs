(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{286:function(e,t,a){"use strict";a.r(t);var r=a(2),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"json-rpc-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-rpc-api","aria-hidden":"true"}},[e._v("#")]),e._v(" JSON RPC API")]),e._v(" "),a("h2",{attrs:{id:"the-ethereum-rpc-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-ethereum-rpc-api","aria-hidden":"true"}},[e._v("#")]),e._v(" The Ethereum RPC API")]),e._v(" "),a("p",[e._v("MetaMask uses the "),a("code",[e._v("ethereum.sendAsync()")]),e._v(" API to wrap an RPC API which is based on an interface exposed by all Ethereum clients, with some extra methods that are provided by MetaMask, as a key-holding signer.")]),e._v(" "),a("p",[e._v("This document is a cross-post of "),a("a",{attrs:{href:"https://github.com/ethereum/EIPs/pull/1474/",target:"_blank",rel:"noopener noreferrer"}},[e._v("EIP 1474"),a("OutboundLink")],1),e._v(", which aims to standardize the declaration of this interface.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("eip: 1474\ntitle: Remote procedure call specification\nauthor: Paul Bouchon <mail@bitpshr.net>\ndiscussions-to: https://ethereum-magicians.org/t/eip-remote-procedure-call-specification/1537\nstatus: Draft\ntype: Standards Track\ncategory: Interface\ncreated: 2018-10-02\n")])])]),a("h3",{attrs:{id:"simple-summary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#simple-summary","aria-hidden":"true"}},[e._v("#")]),e._v(" Simple Summary")]),e._v(" "),a("p",[e._v("This proposal defines a standard set of remote procedure call methods that an Ethereum node should implement.")]),e._v(" "),a("h3",{attrs:{id:"abstract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#abstract","aria-hidden":"true"}},[e._v("#")]),e._v(" Abstract")]),e._v(" "),a("p",[e._v("Nodes created by the current generation of Ethereum clients expose inconsistent and incompatible remote procedure call (RPC) methods because no formal Ethereum RPC specification exists. This proposal standardizes such a specification to provide developers with a predictable Ethereum RPC interface regardless of underlying node implementation.")]),e._v(" "),a("h3",{attrs:{id:"specification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification","aria-hidden":"true"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("h4",{attrs:{id:"concepts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concepts","aria-hidden":"true"}},[e._v("#")]),e._v(" Concepts")]),e._v(" "),a("h4",{attrs:{id:"rfc-2119"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rfc-2119","aria-hidden":"true"}},[e._v("#")]),e._v(" RFC-2119")]),e._v(" "),a("p",[e._v("The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in "),a("a",{attrs:{href:"https://www.ietf.org/rfc/rfc2119.txt",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC-2119"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"json-rpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-rpc","aria-hidden":"true"}},[e._v("#")]),e._v(" JSON-RPC")]),e._v(" "),a("p",[e._v("Communication with Ethereum nodes is accomplished using "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC"),a("OutboundLink")],1),e._v(", a stateless, lightweight "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Remote_procedure_call",target:"_blank",rel:"noopener noreferrer"}},[e._v("remote procedure call"),a("OutboundLink")],1),e._v(" protocol that uses "),a("a",{attrs:{href:"http://www.json.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON"),a("OutboundLink")],1),e._v(" as its data format. Ethereum RPC methods MUST be called using "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification#request_object",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC request objects"),a("OutboundLink")],1),e._v(" and MUST respond with "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification#response_object",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC response objects"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"error-codes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-codes","aria-hidden":"true"}},[e._v("#")]),e._v(" Error codes")]),e._v(" "),a("p",[e._v("If an Ethereum RPC method encounters an error, the "),a("code",[e._v("error")]),e._v(" member included on the response object MUST be an object containing a "),a("code",[e._v("code")]),e._v(" member and descriptive "),a("code",[e._v("message")]),e._v(" member. The following list contains all possible error codes and associated messages:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Code")]),e._v(" "),a("th",[e._v("Message")]),e._v(" "),a("th",[e._v("Meaning")]),e._v(" "),a("th",[e._v("Category")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("-32700")]),e._v(" "),a("td",[e._v("Parse error")]),e._v(" "),a("td",[e._v("Invalid JSON")]),e._v(" "),a("td",[e._v("standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32600")]),e._v(" "),a("td",[e._v("Invalid request")]),e._v(" "),a("td",[e._v("JSON is not a valid request object")]),e._v(" "),a("td",[e._v("standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32601")]),e._v(" "),a("td",[e._v("Method not found")]),e._v(" "),a("td",[e._v("Method does not exist")]),e._v(" "),a("td",[e._v("standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32602")]),e._v(" "),a("td",[e._v("Invalid params")]),e._v(" "),a("td",[e._v("Invalid method parameters")]),e._v(" "),a("td",[e._v("standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32603")]),e._v(" "),a("td",[e._v("Internal error")]),e._v(" "),a("td",[e._v("Internal JSON-RPC error")]),e._v(" "),a("td",[e._v("standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32000")]),e._v(" "),a("td",[e._v("Invalid input")]),e._v(" "),a("td",[e._v("Missing or invalid parameters")]),e._v(" "),a("td",[e._v("non-standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32001")]),e._v(" "),a("td",[e._v("Resource not found")]),e._v(" "),a("td",[e._v("Requested resource not found")]),e._v(" "),a("td",[e._v("non-standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32002")]),e._v(" "),a("td",[e._v("Resource unavailable")]),e._v(" "),a("td",[e._v("Requested resource not available")]),e._v(" "),a("td",[e._v("non-standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32003")]),e._v(" "),a("td",[e._v("Transaction rejected")]),e._v(" "),a("td",[e._v("Transaction creation failed")]),e._v(" "),a("td",[e._v("non-standard")])]),e._v(" "),a("tr",[a("td",[e._v("-32004")]),e._v(" "),a("td",[e._v("Method not supported")]),e._v(" "),a("td",[e._v("Method is not implemented")]),e._v(" "),a("td",[e._v("non-standard")])])])]),e._v(" "),a("p",[e._v("Example error response:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1337")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"jsonrpc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"error"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("-32003")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Transaction rejected"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h4",{attrs:{id:"value-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#value-encoding","aria-hidden":"true"}},[e._v("#")]),e._v(" Value encoding")]),e._v(" "),a("p",[e._v("Specific types of values passed to and returned from Ethereum RPC methods require special encoding:")]),e._v(" "),a("h4",{attrs:{id:"quantity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quantity","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("Quantity")])]),e._v(" "),a("ul",[a("li",[e._v("A "),a("code",[e._v("Quantity")]),e._v(" value MUST be hex-encoded.")]),e._v(" "),a("li",[e._v("A "),a("code",[e._v("Quantity")]),e._v(" value MUST be “0x”-prefixed.")]),e._v(" "),a("li",[e._v("A "),a("code",[e._v("Quantity")]),e._v(" value MUST be expressed using the fewest possible hex digits per byte.")]),e._v(" "),a("li",[e._v("A "),a("code",[e._v("Quantity")]),e._v(" value MUST express zero as “0x0”.")])]),e._v(" "),a("p",[e._v("Examples "),a("code",[e._v("Quantity")]),e._v(" values:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Value")]),e._v(" "),a("th",[e._v("Valid")]),e._v(" "),a("th",[e._v("Reason")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("0x")]),e._v(" "),a("td",[e._v("Parse error")]),e._v(" "),a("td",[e._v("empty not a valid quantity")])]),e._v(" "),a("tr",[a("td",[e._v("0x0")]),e._v(" "),a("td",[e._v("Invalid request")]),e._v(" "),a("td",[e._v("interpreted as a quantity of zero")])]),e._v(" "),a("tr",[a("td",[e._v("0x00")]),e._v(" "),a("td",[e._v("Method not found")]),e._v(" "),a("td",[e._v("leading zeroes not allowed")])]),e._v(" "),a("tr",[a("td",[e._v("0x41")]),e._v(" "),a("td",[e._v("Invalid params")]),e._v(" "),a("td",[e._v("interpreted as a quantity of 65")])]),e._v(" "),a("tr",[a("td",[e._v("0x400")]),e._v(" "),a("td",[e._v("Internal error")]),e._v(" "),a("td",[e._v("interpreted as a quantity of 1024")])]),e._v(" "),a("tr",[a("td",[e._v("0x0400")]),e._v(" "),a("td",[e._v("Invalid input")]),e._v(" "),a("td",[e._v("leading zeroes not allowed")])]),e._v(" "),a("tr",[a("td",[e._v("ff")]),e._v(" "),a("td",[e._v("Resource not found")]),e._v(" "),a("td",[e._v("values must be prefixed")])])])]),e._v(" "),a("h4",{attrs:{id:"data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data","aria-hidden":"true"}},[e._v("#")]),e._v(" Data")]),e._v(" "),a("ul",[a("li",[e._v("A Data value MUST be hex-encoded.")]),e._v(" "),a("li",[e._v("A Data value MUST be “0x”-prefixed.")]),e._v(" "),a("li",[e._v("A Data value MUST be expressed using two hex digits per byte.")])]),e._v(" "),a("p",[e._v("Examples "),a("code",[e._v("Data")]),e._v(" values:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Value")]),e._v(" "),a("th",[e._v("Valid")]),e._v(" "),a("th",[e._v("Reason")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("0x")]),e._v(" "),a("td",[e._v("valid")]),e._v(" "),a("td",[e._v("interpreted as empty data")])]),e._v(" "),a("tr",[a("td",[e._v("0x0")]),e._v(" "),a("td",[e._v("invalid")]),e._v(" "),a("td",[e._v("each byte must be represented using two hex digits")])]),e._v(" "),a("tr",[a("td",[e._v("0x00")]),e._v(" "),a("td",[e._v("valid")]),e._v(" "),a("td",[e._v("interpreted as a single zero byte")])]),e._v(" "),a("tr",[a("td",[e._v("0x41")]),e._v(" "),a("td",[e._v("true")]),e._v(" "),a("td",[e._v("interpreted as a data value of 65")])]),e._v(" "),a("tr",[a("td",[e._v("0x004200")]),e._v(" "),a("td",[e._v("true")]),e._v(" "),a("td",[e._v("interpreted as a data value of 16896")])]),e._v(" "),a("tr",[a("td",[e._v("0xf0f0f")]),e._v(" "),a("td",[e._v("false")]),e._v(" "),a("td",[e._v("bytes require two hex digits")])]),e._v(" "),a("tr",[a("td",[e._v("004200")]),e._v(" "),a("td",[e._v("false")]),e._v(" "),a("td",[e._v("values must be prefixed")])])])]),e._v(" "),a("h4",{attrs:{id:"proposing-changes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proposing-changes","aria-hidden":"true"}},[e._v("#")]),e._v(" Proposing changes")]),e._v(" "),a("p",[e._v("New Ethereum RPC methods and changes to existing methods MUST be proposed via the traditional EIP process. This allows for community consensus around new method implementations and proposed method modifications. RPC method proposals MUST reach “draft” status before being added to this proposal and the official Ethereum RPC specification defined herein.")]),e._v(" "),a("details",[a("summary",[e._v("Click to expand!")]),e._v(" "),a("h2",{attrs:{id:"heading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#heading","aria-hidden":"true"}},[e._v("#")]),e._v(" Heading")]),e._v(" "),a("ol",[a("li",[e._v("A numbered")]),e._v(" "),a("li",[e._v("list\n"),a("ul",[a("li",[e._v("With some")]),e._v(" "),a("li",[e._v("Sub bullets\n")])])])])])])},[],!1,null,null,null);t.default=s.exports}}]);