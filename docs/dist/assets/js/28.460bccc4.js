(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{210:function(t,e,r){"use strict";r.r(e);var a=r(2),n=Object(a.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"registering-function-names"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#registering-function-names","aria-hidden":"true"}},[t._v("#")]),t._v(" Registering Function Names")]),t._v(" "),r("h2",{attrs:{id:"registering-your-contract’s-method-names"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#registering-your-contract’s-method-names","aria-hidden":"true"}},[t._v("#")]),t._v(" Registering Your Contract’s Method Names")]),t._v(" "),r("p",[t._v("MetaMask uses the parity on-chain registry of function signatures to display method names on the confirm screen. For many common method names, like token methods, this allows MetaMask to successfully look up the method names by their "),r("a",{attrs:{href:"https://solidity.readthedocs.io/en/v0.4.21/abi-spec.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("method signature"),r("OutboundLink")],1),t._v(". However, sometimes you’re using a method that is not in that on-chain registry, and MetaMask will simply display Unknown Function to the user.")]),t._v(" "),r("p",[t._v("To add your contract’s function names to this registry so it shows in the MetaMask interface, follow the below steps.")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("Go to the mainnet parity signature registration contract on etherscan")])]),t._v(" "),r("li",[r("p",[t._v("Connect MetaMask")])]),t._v(" "),r("li",[r("p",[t._v("Use etherscan’s write contract feature to input the string value (without quotes or spaces) to the register function")])])]),t._v(" "),r("p",[t._v("for example:")]),t._v(" "),r("p",[r("code",[t._v("getOwners()")])]),t._v(" "),r("p",[r("code",[t._v("execTransaction(address,uint256,bytes,uint8,uint256,uint256,uint256,address,address,bytes)")])]),t._v(" "),r("ol",{attrs:{start:"4"}},[r("li",[r("p",[t._v("Press write")])]),t._v(" "),r("li",[r("p",[t._v("Approve the transaction through MetaMask (you only pay gas)")])])]),t._v(" "),r("h2",{attrs:{id:"verify"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#verify","aria-hidden":"true"}},[t._v("#")]),t._v(" Verify")]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[t._v("web3"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("sha3")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getOwners()'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xa0e67e2bdc0a6d8a09ccd6c353c9df590807ad66ff5e6630c4f31a86dfa84821")]),t._v("\n")])])]),r("p",[t._v("take the first 10 characters 0xa0e67e2b and input into "),r("a",{attrs:{href:"https://jennypollack.github.io/function_signature_registry/",target:"_blank",rel:"noopener noreferrer"}},[t._v("this demo app"),r("OutboundLink")],1),t._v(" that checks the on-chain registry (mainnet or rinkeby)")]),t._v(" "),r("h2",{attrs:{id:"alternate-steps-using-remix-ethereum-org"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#alternate-steps-using-remix-ethereum-org","aria-hidden":"true"}},[t._v("#")]),t._v(" Alternate steps using "),r("a",{attrs:{href:"http://remix.ethereum.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("remix.ethereum.org"),r("OutboundLink")],1),t._v(":")]),t._v(" "),r("p",[t._v("Paste the contract code from "),r("a",{attrs:{href:"https://www.bokconsulting.com.au/blog/a-quick-look-at-paritys-signature-registry-contract/",target:"_blank",rel:"noopener noreferrer"}},[t._v("bokky’s blog post"),r("OutboundLink")],1),t._v(" into remix")]),t._v(" "),r("p",[t._v("Set the correct compiler version based on the contract.")]),t._v(" "),r("p",[t._v("Use remix’s write functionality to add to the registry.")]),t._v(" "),r("p",[t._v("You can look at the FUNCTIONHASHES section on "),r("a",{attrs:{href:"http://remix.ethereum.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("remix.ethereum.org"),r("OutboundLink")],1),t._v(" by loading the signature registry contract, press the Details button on the compile tab.")]),t._v(" "),r("h2",{attrs:{id:"additional-info"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#additional-info","aria-hidden":"true"}},[t._v("#")]),t._v(" Additional Info")]),t._v(" "),r("p",[t._v("You can also use the "),r("a",{attrs:{href:"https://rinkeby.etherscan.io/address/0x0c0831fb1ec7442485fb41a033ba188389a990b4",target:"_blank",rel:"noopener noreferrer"}},[t._v("signature registry"),r("OutboundLink")],1),t._v(" deployed on rinkeby but should note that MetaMask reads from the mainnet eth-method-registry endpoint, regardless of user’s network")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/MetaMask/eth-method-registry",target:"_blank",rel:"noopener noreferrer"}},[t._v("eth-method-registry"),r("OutboundLink")],1),t._v(" is used to lookup methods in MetaMask.")]),t._v(" "),r("p",[t._v("This "),r("a",{attrs:{href:"https://ethereum.stackexchange.com/questions/59678/metamask-shows-unknown-function-when-calling-method-send-function",target:"_blank",rel:"noopener noreferrer"}},[t._v("stack exchange"),r("OutboundLink")],1),t._v(" answer is a good tldr.")])])},[],!1,null,null,null);e.default=n.exports}}]);