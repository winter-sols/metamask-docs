(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{289:function(e,t,a){"use strict";a.r(t);var s=a(2),n=Object(s.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started","aria-hidden":"true"}},[e._v("#")]),e._v(" Getting Started")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("IMPORTANT NOTE")]),e._v(" "),a("p",[e._v("To develop for MetaMask, you’re first going to want to get MetaMask installed on your development machine. "),a("a",{attrs:{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download here"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("Once you have it running, you should find that new browser tabs have a "),a("code",[e._v("window.ethereum")]),e._v(" object available in the console. This is the way MetaMask provides for you to interact with it.")]),e._v(" "),a("h2",{attrs:{id:"basic-considerations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-considerations","aria-hidden":"true"}},[e._v("#")]),e._v(" Basic Considerations")]),e._v(" "),a("h3",{attrs:{id:"web3-browser-detection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web3-browser-detection","aria-hidden":"true"}},[e._v("#")]),e._v(" Web3 Browser Detection")]),e._v(" "),a("p",[e._v("The first thing your app will want to do is verify whether the user is using MetaMask or not, which is simple using a check like:")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("typeof")]),e._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("ethereum "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!==")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'undefined'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* deal with it */")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h3",{attrs:{id:"running-a-test-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-a-test-network","aria-hidden":"true"}},[e._v("#")]),e._v(" Running a Test Network")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[e._v("Make sure you have npm installed. Unsure how? To download Node.js and npm "),a("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("visit here"),a("OutboundLink")],1)])]),e._v(" "),a("ol",[a("li",[e._v("By default it will be on "),a("code",[e._v("Main Ethereum Network")]),e._v(". Click that and choose either "),a("code",[e._v("Custom RPC")]),e._v(" or "),a("code",[e._v("Localhost 8545")])]),e._v(" "),a("li",[e._v("These are both useful for connecting to a test blockchain, like "),a("a",{attrs:{href:"https://www.trufflesuite.com/ganache",target:"_blank",rel:"noopener noreferrer"}},[e._v("ganache"),a("OutboundLink")],1),e._v(". You can quickly install and start with "),a("code",[e._v("npm i -g ganache-cli && ganache-cli")]),e._v(".")])]),e._v(" "),a("p",[e._v("Ganache has some great features for starting it up with different states. If you start it with the -m flag, you can feed it the same seed phrase you have in your MetaMask, and the test network will give your first 10 accounts 100 test ether each, which makes it easier to start work.")]),e._v(" "),a("p",[e._v("Since your seed phrase is the power to control all your accounts, it is probably worth keeping at least one seed phrase for development, separate from any that you use for storing real value. One easy way to manage multiple seed phrases with MetaMask is with multiple browser profiles, each of which can have its own clean extension installations.")]),e._v(" "),a("h3",{attrs:{id:"resetting-your-local-nonce-calculation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resetting-your-local-nonce-calculation","aria-hidden":"true"}},[e._v("#")]),e._v(" Resetting Your Local Nonce Calculation")]),e._v(" "),a("p",[e._v("If you’re running a test blockchain, and then restart it, you can accidentally confuse MetaMask, because it calculates the next nonce based on both the network state and the known sent transactions.")]),e._v(" "),a("p",[e._v("To clear MetaMask’s transaction queue, and effectively reset its nonce calculation, you can use the: "),a("code",[e._v("Reset Account")]),e._v(" button in "),a("code",[e._v("Settings")]),e._v(" (available in the top-right sandwich menu).")]),e._v(" "),a("h3",{attrs:{id:"detecting-metamask"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#detecting-metamask","aria-hidden":"true"}},[e._v("#")]),e._v(" Detecting MetaMask")]),e._v(" "),a("p",[e._v("If you want to differentiate MetaMask from other ethereum-compatible browsers, you can detect MetaMask using")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//Open Developer Console in browser, copy and paste below code")]),e._v("\nethereum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("isMetaMask "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// true")]),e._v("\n")])])]),a("h3",{attrs:{id:"user-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-state","aria-hidden":"true"}},[e._v("#")]),e._v(" User State")]),e._v(" "),a("p",[e._v("Currently there are a few stateful things you want to consider when interacting with this API:")]),e._v(" "),a("ul",[a("li",[e._v("What is the current network?")]),e._v(" "),a("li",[e._v("What is the current account?")])]),e._v(" "),a("p",[e._v("Both of these are available synchronously as "),a("code",[e._v("ethereum.networkVersion")]),e._v(" and "),a("code",[e._v("ethereum.selectedAddress")]),e._v(". You can listen for changes using events, too "),a("a",{attrs:{href:"/guide/getting-started.html#inside-an-existing-project"}},[e._v("(see the API reference)")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"logging-in"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging-in","aria-hidden":"true"}},[e._v("#")]),e._v(" Logging In")]),e._v(" "),a("p",[e._v("When you’re ready to request the user logs in, you can call this simple method:")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[e._v("ethereum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("This promise-returning function resolves with an array of hex-prefixed ethereum addresses, which can be used as general account references when sending transactions.")]),e._v(" "),a("p",[e._v("Over time, this method is intended to grow to include various additional parameters to help your site request all the setup it needs from the user during setup.")]),e._v(" "),a("p",[e._v("Since it returns a promise, if you’re in an "),a("code",[e._v("async")]),e._v(" function, you may log in like this:")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" accounts "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" ethereum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" account "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" accounts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// We currently only ever provide a single account,")]),e._v("\n                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// but the array gives us some room to grow.")]),e._v("\n")])])]),a("h3",{attrs:{id:"choosing-a-convenience-library"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#choosing-a-convenience-library","aria-hidden":"true"}},[e._v("#")]),e._v(" Choosing a Convenience Library")]),e._v(" "),a("p",[e._v("Convenience libraries exist for a variety of reasons.")]),e._v(" "),a("p",[e._v("Some of them simplify the creation of specific user interface elements, some entirely manage the user account onboarding, and others give you a variety of methods of interacting with smart contracts, for a variety of API preferences, from promises, to callbacks, to strong types, and on.")]),e._v(" "),a("p",[e._v("The provider API itself is very simple, and wraps "),a("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/JSON-RPC#json-rpc-methods",target:"_blank"}},[e._v("Ethereum JSON-RPC")]),e._v(" formatted messages, which is why developers usually use a convenience library for interacting with the provider, like:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/web3",target:"_blank"}},[e._v("web3")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.trufflesuite.com/",target:"_blank"}},[e._v("truffle")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/ethjs",target:"_blank"}},[e._v("ethjs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://embark.status.im/",target:"_blank"}},[e._v("Embark")])])]),e._v(" "),a("p",[e._v("or others. From those tools, you can generally find sufficient documentation to interact with the provider, without reading this lower-level API.")])])},[],!1,null,null,null);t.default=n.exports}}]);